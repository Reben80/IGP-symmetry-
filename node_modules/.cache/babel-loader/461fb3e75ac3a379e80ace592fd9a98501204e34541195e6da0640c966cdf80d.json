{"ast":null,"code":"import { drawLighterSquare } from './drawingUtils';\nexport function transformCross(ctx, size, angle, reflectVertical = false, reflectHorizontal = false, reflectDiagonal1 = false, reflectDiagonal2 = false) {\n  const frames = 60;\n  let currentFrame = 0;\n  const canvasWidth = ctx.canvas.width;\n  const canvasHeight = ctx.canvas.height;\n  const centerX = 200;\n  const centerY = 200;\n  function animate() {\n    ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\n    // Draw the stationary square\n    const squareX = centerX - size / 2;\n    const squareY = centerY - size / 2;\n    drawLighterSquare(ctx, squareX, squareY, size);\n    ctx.save();\n    ctx.translate(centerX, centerY);\n    ctx.rotate(currentFrame / frames * (angle * Math.PI / 180));\n\n    // Draw the rotating diagonals\n    ctx.beginPath();\n    ctx.moveTo(-size / 2, -size / 2);\n    ctx.lineTo(size / 2, size / 2);\n    ctx.moveTo(size / 2, -size / 2);\n    ctx.lineTo(-size / 2, size / 2);\n    ctx.strokeStyle = 'rgba(255, 0, 0, 0.5)';\n    ctx.stroke();\n    ctx.restore();\n\n    // Draw vertical reflection line\n    if (reflectVertical) {\n      ctx.beginPath();\n      ctx.moveTo(centerX, 0);\n      ctx.lineTo(centerX, canvasHeight);\n      ctx.strokeStyle = 'rgba(0, 0, 255, 0.5)';\n      ctx.stroke();\n    }\n\n    // Draw horizontal reflection line\n    if (reflectHorizontal) {\n      ctx.beginPath();\n      ctx.moveTo(0, centerY);\n      ctx.lineTo(canvasWidth, centerY);\n      ctx.strokeStyle = 'rgba(0, 255, 0, 0.5)';\n      ctx.stroke();\n    }\n\n    // Draw diagonal reflection line 1 (top-left to bottom-right)\n    if (reflectDiagonal1) {\n      ctx.beginPath();\n      ctx.moveTo(0, 0);\n      ctx.lineTo(canvasWidth, canvasHeight);\n      ctx.strokeStyle = 'rgba(255, 165, 0, 0.5)'; // Orange\n      ctx.stroke();\n    }\n\n    // Draw diagonal reflection line 2 (top-right to bottom-left)\n    if (reflectDiagonal2) {\n      ctx.beginPath();\n      ctx.moveTo(canvasWidth, 0);\n      ctx.lineTo(0, canvasHeight);\n      ctx.strokeStyle = 'rgba(128, 0, 128, 0.5)'; // Purple\n      ctx.stroke();\n    }\n\n    // Draw the center dot\n    ctx.fillStyle = 'red';\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, 2, 0, Math.PI * 2);\n    ctx.fill();\n\n    // Display coordinates\n    ctx.fillStyle = 'black';\n    ctx.font = '12px Arial';\n    ctx.fillText(`(${centerX}, ${centerY})`, centerX + 5, centerY - 5);\n    currentFrame++;\n    if (currentFrame < frames) {\n      requestAnimationFrame(animate);\n    }\n  }\n  animate();\n}\nexport function reflectSquare(ctx, x, y, size, direction) {\n  const frames = 30;\n  let currentFrame = 0;\n  function animate() {\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    ctx.save();\n    ctx.translate(x + size / 2, y + size / 2);\n    switch (direction) {\n      case 'horizontal':\n        ctx.scale(1 - currentFrame / frames * 2, 1);\n        break;\n      case 'vertical':\n        ctx.scale(1, 1 - currentFrame / frames * 2);\n        break;\n      case 'diagonal1':\n        ctx.rotate(Math.PI / 4);\n        ctx.scale(1, 1 - currentFrame / frames * 2);\n        ctx.rotate(-Math.PI / 4);\n        break;\n      case 'diagonal2':\n        // Keep this case unchanged as it's working correctly\n        ctx.rotate(-Math.PI / 4);\n        ctx.scale(1 - currentFrame / frames * 2, 1);\n        ctx.rotate(Math.PI / 4);\n        break;\n    }\n    ctx.translate(-(x + size / 2), -(y + size / 2));\n    drawLighterSquare(ctx, x, y, size);\n    ctx.restore();\n    currentFrame++;\n    if (currentFrame <= frames) {\n      requestAnimationFrame(animate);\n    }\n  }\n  animate();\n}","map":{"version":3,"names":["drawLighterSquare","transformCross","ctx","size","angle","reflectVertical","reflectHorizontal","reflectDiagonal1","reflectDiagonal2","frames","currentFrame","canvasWidth","canvas","width","canvasHeight","height","centerX","centerY","animate","clearRect","squareX","squareY","save","translate","rotate","Math","PI","beginPath","moveTo","lineTo","strokeStyle","stroke","restore","fillStyle","arc","fill","font","fillText","requestAnimationFrame","reflectSquare","x","y","direction","scale"],"sources":["/Users/Rebin/new symmetry /my-app/src/utils/transformUtils.ts"],"sourcesContent":["import { drawLighterSquare } from './drawingUtils';\n\nexport function transformCross(\n  ctx: CanvasRenderingContext2D, \n  size: number, \n  angle: number,\n  reflectVertical: boolean = false,\n  reflectHorizontal: boolean = false,\n  reflectDiagonal1: boolean = false,\n  reflectDiagonal2: boolean = false\n) {\n  const frames = 60;\n  let currentFrame = 0;\n\n  const canvasWidth = ctx.canvas.width;\n  const canvasHeight = ctx.canvas.height;\n  const centerX = 200;\n  const centerY = 200;\n\n  function animate() {\n    ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\n    // Draw the stationary square\n    const squareX = centerX - size / 2;\n    const squareY = centerY - size / 2;\n    drawLighterSquare(ctx, squareX, squareY, size);\n\n    ctx.save();\n    ctx.translate(centerX, centerY);\n    ctx.rotate((currentFrame / frames) * (angle * Math.PI / 180));\n    \n    // Draw the rotating diagonals\n    ctx.beginPath();\n    ctx.moveTo(-size / 2, -size / 2);\n    ctx.lineTo(size / 2, size / 2);\n    ctx.moveTo(size / 2, -size / 2);\n    ctx.lineTo(-size / 2, size / 2);\n    ctx.strokeStyle = 'rgba(255, 0, 0, 0.5)';\n    ctx.stroke();\n\n    ctx.restore();\n\n    // Draw vertical reflection line\n    if (reflectVertical) {\n      ctx.beginPath();\n      ctx.moveTo(centerX, 0);\n      ctx.lineTo(centerX, canvasHeight);\n      ctx.strokeStyle = 'rgba(0, 0, 255, 0.5)';\n      ctx.stroke();\n    }\n\n    // Draw horizontal reflection line\n    if (reflectHorizontal) {\n      ctx.beginPath();\n      ctx.moveTo(0, centerY);\n      ctx.lineTo(canvasWidth, centerY);\n      ctx.strokeStyle = 'rgba(0, 255, 0, 0.5)';\n      ctx.stroke();\n    }\n\n    // Draw diagonal reflection line 1 (top-left to bottom-right)\n    if (reflectDiagonal1) {\n      ctx.beginPath();\n      ctx.moveTo(0, 0);\n      ctx.lineTo(canvasWidth, canvasHeight);\n      ctx.strokeStyle = 'rgba(255, 165, 0, 0.5)'; // Orange\n      ctx.stroke();\n    }\n\n    // Draw diagonal reflection line 2 (top-right to bottom-left)\n    if (reflectDiagonal2) {\n      ctx.beginPath();\n      ctx.moveTo(canvasWidth, 0);\n      ctx.lineTo(0, canvasHeight);\n      ctx.strokeStyle = 'rgba(128, 0, 128, 0.5)'; // Purple\n      ctx.stroke();\n    }\n\n    // Draw the center dot\n    ctx.fillStyle = 'red';\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, 2, 0, Math.PI * 2);\n    ctx.fill();\n\n    // Display coordinates\n    ctx.fillStyle = 'black';\n    ctx.font = '12px Arial';\n    ctx.fillText(`(${centerX}, ${centerY})`, centerX + 5, centerY - 5);\n\n    currentFrame++;\n\n    if (currentFrame < frames) {\n      requestAnimationFrame(animate);\n    }\n  }\n\n  animate();\n}\n\nexport function reflectSquare(\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  size: number,\n  direction: 'horizontal' | 'vertical' | 'diagonal1' | 'diagonal2'\n) {\n  const frames = 30;\n  let currentFrame = 0;\n\n  function animate() {\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n    ctx.save();\n    ctx.translate(x + size / 2, y + size / 2);\n    \n    switch (direction) {\n      case 'horizontal':\n        ctx.scale(1 - (currentFrame / frames) * 2, 1);\n        break;\n      case 'vertical':\n        ctx.scale(1, 1 - (currentFrame / frames) * 2);\n        break;\n      case 'diagonal1':\n        ctx.rotate(Math.PI / 4);\n        ctx.scale(1, 1 - (currentFrame / frames) * 2);\n        ctx.rotate(-Math.PI / 4);\n        break;\n      case 'diagonal2':\n        // Keep this case unchanged as it's working correctly\n        ctx.rotate(-Math.PI / 4);\n        ctx.scale(1 - (currentFrame / frames) * 2, 1);\n        ctx.rotate(Math.PI / 4);\n        break;\n    }\n    \n    ctx.translate(-(x + size / 2), -(y + size / 2));\n    drawLighterSquare(ctx, x, y, size);\n    ctx.restore();\n\n    currentFrame++;\n\n    if (currentFrame <= frames) {\n      requestAnimationFrame(animate);\n    }\n  }\n\n  animate();\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}